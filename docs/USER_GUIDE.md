# 📖 Руководство пользователя

## Как пользоваться приложением

---

## 🎯 Работа с целями

### 1. Создание цели (`/goals`)

**Шаги:**
1. Откройте вкладку **"Цели"** в меню
2. Заполните форму вверху страницы:
   - **Название**: например, "Пробежать 5 км"
   - **Описание** (опционально): детали
   - **Тип цели**:
     - **BINARY** (Бинарная): выполнено/не выполнено (например, "Сделал зарядку")
     - **QUANTITATIVE** (Количественная): накопление прогресса (например, "Пробежал 10 км")
     - **FINANCIAL** (Финансовая): денежная цель
   - **Период**:
     - **DAILY** (Каждый день): цель обнуляется каждый день
     - **WEEKLY** (Каждую неделю): обнуляется раз в неделю
     - **MONTHLY** (Каждый месяц): обнуляется раз в месяц
     - **YEARLY** (Каждый год): обнуляется раз в год
     - **CUSTOM** (Диапазон): укажите даты начала и конца
   - **Цель** (число): например, 5 для "5 км"
   - **Единица измерения**: например, "км", "часов", "раз"
   - **Даты**: начало и конец (для CUSTOM периода)
3. Нажмите **"Сохранить"**
4. Цель появится в списке ниже

**Важно:**
- Цель появится на странице "Сегодня" **только если**:
  - ✅ Дата начала (startDate) уже наступила
  - ✅ Дата конца (endDate) ещё не прошла (или не указана)
  - ✅ Цель не архивирована

---

### 2. Добавление прогресса к цели (`/today`)

**Вкладка "Сегодня" - основное место для ввода прогресса!**

#### Для КОЛИЧЕСТВЕННЫХ целей (QUANTITATIVE):

```
┌─────────────────────────────────────────────┐
│ Пробежать 5 км                              │
│ Каждый день · Количественная                │
│                                             │
│ Прогресс: 2 / 5 км                          │
│ [▰▰▰▰▰▰▱▱▱▱] 40% готово                     │
│                                             │
│ ┌─────────────────┐  ┌──────────┐          │
│ │ [введите число] │  │ Сохранить │          │
│ └─────────────────┘  └──────────┘          │
│                                             │
│ ┌─────────────────────────────────────────┐ │
│ │ Заметка (необязательно)                 │ │
│ └─────────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

**Действия:**
1. Введите число в поле (например, "2.5" км)
2. Нажмите **"Сохранить"**
3. Прогресс обновится мгновенно!

#### Для БИНАРНЫХ целей (BINARY):

```
┌─────────────────────────────────────────────┐
│ Сделать зарядку                             │
│ Каждый день · Бинарная                      │
│                                             │
│ Прогресс: 0 / 1                             │
│ [▱▱▱▱▱▱▱▱▱▱] 0% готово                      │
│                                             │
│ ┌────────────┐  ┌────────┐                 │
│ │ Выполнено  │  │ Пропуск │                 │
│ └────────────┘  └────────┘                 │
│                                             │
│ ┌─────────────────────────────────────────┐ │
│ │ Заметка (необязательно)                 │ │
│ └─────────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

**Действия:**
1. Нажмите **"Выполнено"** ✅ (засчитывается 1) или **"Пропуск"** ⏭️ (засчитывается 0)
2. Готово!

---

## 💰 Работа с финансами

### 1. Создание сберегательной цели (`/finances/goals/new`)

**Шаги:**
1. Откройте вкладку **"Финансы"** в меню
2. Нажмите **"+ Новая цель"** (или перейдите в `/finances/goals/new`)
3. Заполните форму:
   - **Название**: например, "Накопить на MacBook"
   - **Тип**:
     - **ACCUMULATE** (Накопить X): просто накопить сумму
     - **SINKING_FUND** (Фонд на покупку): цель с датой покупки
     - **EMERGENCY** (Подушка безопасности): N месячных расходов
   - **Целевая сумма**: например, 200000
   - **Валюта**: например, "RUB"
   - **Начальная сумма** (опционально): если уже есть накопления
   - **Дата начала**: когда начинаете копить
   - **Дата цели** (опционально): когда нужно накопить
4. Нажмите **"Создать цель"**

---

### 2. Пополнение финансовой цели

**Есть два способа:**

#### Способ 1: Из списка целей (`/finances`)

1. Откройте вкладку **"Финансы"**
2. Найдите нужную цель в списке
3. Нажмите на карточку цели (или кнопку "Детали")
4. Откроется экран `/finances/goals/[id]`

#### Способ 2: Прямой переход к цели

1. Откройте `/finances/goals/[id]` (замените `[id]` на ID цели)
2. Справа увидите форму **"Добавить запись"**:

```
┌─────────────────────────────────────┐
│ Добавить запись                     │
│                                     │
│ Цель: Накопить на MacBook           │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ Сумма: [введите число]          │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ Дата: [выберите дату]           │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ Источник: [зарплата/бонус...]   │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ Заметка (необязательно)         │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌──────────────┐                   │
│ │ Добавить     │                   │
│ └──────────────┘                   │
└─────────────────────────────────────┘
```

**Действия:**
1. Введите сумму (например, "+10000" для пополнения или "-5000" для снятия)
2. Выберите дату
3. Укажите источник (опционально): "Зарплата", "Подработка", "Бонус" и т.д.
4. Добавьте заметку (опционально)
5. Нажмите **"Добавить"**
6. График и баланс обновятся автоматически!

---

## 🏆 Награды (`/rewards`)

### Покупка награды

1. Откройте вкладку **"Награды"** в меню
2. Смотрите свой баланс монет вверху страницы
3. Найдите награду, которую хотите купить
4. Если хватает монет, нажмите **"Купить"**
5. Монеты спишутся, покупка появится в истории

**Как заработать монеты:**
- За выполнение целей начисляется XP
- 10 XP = 1 монета
- Монеты копятся автоматически!

---

## 📊 Статистика (`/stats`)

На этой странице вы увидите:
- **Weekly Score** по сферам (0-100 баллов)
- Графики прогресса по каждой цели
- Серии (streaks)
- Средний прогресс

---

## ⚙️ Настройки (`/settings`)

### Переключение темы

1. Откройте вкладку **"Настройки"**
2. Найдите виджет **"Theme"**
3. Выберите:
   - **Light** 🌞 - светлая тема
   - **Dark** 🌙 - темная тема
   - **System** ⚙️ - следует за системной темой

---

## 🐛 Частые проблемы

### Цель не появляется на странице "Сегодня"

**Проверьте:**
1. ✅ Дата начала цели уже наступила?
2. ✅ Цель не архивирована?
3. ✅ Дата окончания не прошла?

**Решение:**
- Откройте `/goals`
- Найдите цель
- Проверьте даты
- При необходимости отредактируйте цель

---

### Не могу найти форму пополнения финансов

**Решение:**
1. Откройте `/finances`
2. Найдите нужную цель
3. Кликните на карточку цели
4. Справа появится форма **"Добавить запись"**

Или:
1. Скопируйте ID цели (например, `cmkbp8dsk0003rf8zwdt90wme`)
2. Откройте `/finances/goals/cmkbp8dsk0003rf8zwdt90wme`
3. Форма будет справа на экране

---

## 📱 Навигация

**Меню (всегда вверху):**

```
┌─────────────────────────────────────────────────┐
│ Progressor    [Имя]  [Уровень X · Y XP]        │
│                                                 │
│ [Сегодня] [Цели] [Финансы] [Награды]           │
│ [Статистика] [Достижения] [Настройки] [Выйти]  │
└─────────────────────────────────────────────────┘
```

---

## ✅ Быстрый старт

1. **Создайте цель**: `/goals` → заполните форму → "Сохранить"
2. **Добавьте прогресс**: `/today` → введите значение → "Сохранить"
3. **Создайте финансовую цель**: `/finances/goals/new` → заполните форму
4. **Пополните цель**: Откройте цель → справа форма "Добавить запись"
5. **Переключите тему**: `/settings` → Theme → выберите тему

---

Готово! Теперь вы знаете как пользоваться приложением! 🎉
